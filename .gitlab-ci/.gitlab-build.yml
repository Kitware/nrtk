###############################################################################
# Stage -- Build
###############################################################################

build:cache:
  extends: .shared-setup
  stage: build
  script:
    - poetry install --sync --with main,dev-linting,dev-testing,dev-docs --all-extras
  cache:
    key: $CI_COMMIT_REF_SLUG
    paths:
      - .cache
    policy: push